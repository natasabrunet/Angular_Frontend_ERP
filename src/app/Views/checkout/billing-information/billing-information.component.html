<div class="container-fluid bg-erp-silver pb-4">
  <div class="card border-0 col-10 mx-auto">
    <div class="card-body text-center bg-erp-silver pt-5">
      <h2 class="card-title fw-bold fs-1">{{"billing-information.page-head" | translate}}</h2>
    </div>
    <div class="card-body">
      <form action=""
            class="row g-3 needs-validation"
            [formGroup]="billingForm"
            (ngSubmit)="onSubmit()"
            novalidate>
        <div class="col-12 col-md-6 p-4">
          <input type="text"
          [placeholder]="'billing-information.list.name' | translate"
                 class="form-control"
                 formControlName="inputName"
                 [ngClass]="{'is-invalid':isValidInput('inputName')}">
          <div class="invalid-feedback">
            <span *ngIf="billingForm.get('inputName')?.errors?.required">
              {{"billing-information.error-list.name-error" | translate}}
            </span>
            <span *ngIf="billingForm.get('inputName')?.errors?.minlength">
              {{"billing-information.error-list.minimum" | translate}} {{billingForm.get('inputName')?.errors?.minlength.requiredLength}} {{"billing-information.error-list.characters-required" | translate}}
            </span>
          </div>
        </div>
        <div class="col-12 col-md-6 p-4">
          <input type="text"
          [placeholder]="'billing-information.list.last-name' | translate"
                 class="form-control"
                 formControlName="inputSurname"
                 [ngClass]="{'is-invalid':isValidInput('inputSurname')}">
          <div class="invalid-feedback">
            <span *ngIf="billingForm.get('inputSurname')?.errors?.required">
              {{"billing-information.error-list.surname-error" | translate}}
            </span>
            <span *ngIf="billingForm.get('inputSurname')?.errors?.minlength">
              {{"billing-information.error-list.minimum" | translate}} {{billingForm.get('inputSurname')?.errors?.minlength.requiredLength}} {{"billing-information.error-list.characters-required" | translate}}
            </span>
          </div>
        </div>
        <div class="col-12 col-md-6 p-4">
          <input type="text"
          [placeholder]="'billing-information.list.dni' | translate"
          class="form-control"
          formControlName="inputDNI"
          [ngClass]="{'is-invalid':isValidInput('inputDNI')}">
          <div class="invalid-feedback">
            <span *ngIf="billingForm.get('inputDNI')?.errors?.required">
              {{"billing-information.error-list.id-error" | translate}}
            </span>
            <span *ngIf="billingForm.get('inputDNI')?.errors?.pattern">
              <small class="small fw-bold"> {{"billing-information.error-list.cif-error" | translate}}</small>
            </span>
            <span *ngIf="billingForm.get('inputDNI')?.errors?.pattern">
              <small class="small fw-bold"> {{"billing-information.error-list.dni-error" | translate}}</small>
            </span>
          </div>
        </div>
        <div class="col-12 col-md-6 p-4">
          <input type="email"
          [placeholder]="'billing-information.list.email' | translate"
                 class="form-control"
                 formControlName="inputEmail"
                 [ngClass]="{'is-invalid':isValidInput('inputEmail')}">
          <div class="invalid-feedback">
            <span *ngIf="billingForm.get('inputEmail')?.errors?.required">
              {{"billing-information.error-list.email-error" | translate}}
            </span>
            <span *ngIf="billingForm.get('inputEmail')?.errors?.pattern">
              {{"billing-information.error-list.emailFormat-error" | translate}}
            </span>
          </div>
        </div>
        <div class="row mx-auto"
             formGroupName="address">
          <div class="col-md-12 py-4">
            <input type="text"
            [placeholder]="'billing-information.list.address' | translate"
                   class="form-control"
                   formControlName="inputAddress"
                   [ngClass]="{'is-invalid':isValidInput('address.inputAddress')}">
            <div class="invalid-feedback">
              <span *ngIf="billingForm.get('address.inputAddress')?.errors?.required">
                {{"billing-information.error-list.adress-error" | translate}}
              </span>
            </div>
          </div>
          <div class="col-md-3 py-4">
            <select class="form-select"
                    formControlName="inputCountry"
                    (change)="onChangeCountry($event.target.value)"
                    [ngClass]="{'is-invalid':isValidInput('address.inputCountry')}">
                    <option disabled value="">{{"billing-information.list.country" | translate}}</option>
                    <option *ngFor="let country of countryInfo; let i = index"
                      value="{{i}}">{{country.CountryName}}</option>
            </select>
            <div class="invalid-feedback">
              <span *ngIf="billingForm.get('address.inputCountry')?.errors?.required">
                {{"billing-information.error-list.country-error" | translate}}
              </span>
            </div>
          </div>
          <div class="col-md-3 py-4">
            <select class="form-select"
                    formControlName="inputProvince"
                    (change)="onChangeProvince($event.target.value)"
                    [ngClass]="{'is-invalid':isValidInput('address.inputProvince')}">
                    <option disabled value="">{{"billing-information.list.province" | translate}}</option>
                    <option *ngFor="let province of provinceInfo; let j = index"
                      value="{{j}}">{{province.StateName}}</option>
            </select>
            <div class="invalid-feedback">
              <span *ngIf="billingForm.get('address.inputProvince')?.errors?.required">
                {{"billing-information.error-list.province-error" | translate}}
              </span>
            </div>
          </div>
          <div class="col-md-3 py-4">
            <input type="text"
            [placeholder]="'billing-information.list.city' | translate"
                   class="form-control"
                   formControlName="inputCity"
                   [ngClass]="{'is-invalid':isValidInput('address.inputCity')}">
            <div class="invalid-feedback">
              <span *ngIf="billingForm.get('address.inputCity')?.errors?.required">
                {{"billing-information.error-list.city-error" | translate}}
              </span>
              <span *ngIf="billingForm.get('address.inputCity')?.errors?.minlength">
                {{"billing-information.error-list.minimum" | translate}} {{billingForm.get('address.inputCity')?.errors?.minlength.requiredLength}} {{"billing-information.error-list.characters-required" | translate}}
              </span>
            </div>
          </div>
          <div class="col-md-3 py-4">
            <input type="text"
            [placeholder]="'billing-information.list.zip-code' | translate"
                   class="form-control"
                   formControlName="inputZIP"
                   [ngClass]="{'is-invalid':isValidInput('address.inputZIP')}">
            <div class="invalid-feedback">
              <span *ngIf="billingForm.get('address.inputZIP')?.errors?.required">
                {{"billing-information.error-list.zip-error" | translate}}
              </span>
            </div>
          </div>
        </div>         
        <div *ngIf="shipAddress" class="row mx-auto"
             formGroupName="shippingAddress">
             <h2 class="card-title fw-bold fs-1">{{"billing-information.list.shipping-information" | translate}}</h2>
             <div class="col-12 col-md-6 p-4">
            <input type="text"
            [placeholder]="'billing-information.list.name' | translate"
                    class="form-control"
                    formControlName="inputNameShipping"
                    [ngClass]="{'is-invalid':isValidInput('inputName')}">
                    <div class="invalid-feedback">
              <span *ngIf="billingForm.get('inputNameShipping')?.errors?.required">
                {{"billing-information.error-list.name-error" | translate}}
              </span>
              <span *ngIf="billingForm.get('inputNameShipping')?.errors?.minlength">
                {{"billing-information.error-list.minimum" | translate}} {{billingForm.get('inputName')?.errors?.minlength.requiredLength}} {{"billing-information.error-list.characters-required" | translate}}
              </span>
            </div>
          </div>
          <div class="col-12 col-md-6 p-4">
            <input type="text"
            [placeholder]="'billing-information.list.last-name' | translate"
                   class="form-control"
                   formControlName="inputSurnameShipping"
                   [ngClass]="{'is-invalid':isValidInput('inputSurname')}">
            <div class="invalid-feedback">
              <span *ngIf="billingForm.get('inputSurnameShipping')?.errors?.required">
                {{"billing-information.error-list.surname-error" | translate}}
              </span>
              <span *ngIf="billingForm.get('inputSurnameShipping')?.errors?.minlength">
                {{"billing-information.error-list.minimum" | translate}} {{billingForm.get('inputSurname')?.errors?.minlength.requiredLength}} {{"billing-information.error-list.characters-required" | translate}}
              </span>
            </div>
          </div>
          <div class="col-md-12 py-4">
            <input type="text"
            [placeholder]="'billing-information.list.address' | translate"
                    class="form-control"
                    formControlName="inputAddressShipping"
                    [ngClass]="{'is-invalid':isValidInput('address.inputAddress')}">
            <div class="invalid-feedback">
              <span *ngIf="billingForm.get('address.inputAddress')?.errors?.required">
                {{"billing-information.error-list.adress-error" | translate}}
              </span>
            </div>
          </div>
          <div class="col-md-3 py-4">
            <select class="form-select"
                    formControlName="inputCountryShipping"
                    (change)="onChangeCountry($event.target.value)"
                    [ngClass]="{'is-invalid':isValidInput('address.inputCountry')}">
                    <option disabled value="">{{"billing-information.list.country" | translate}}</option>
                    <option *ngFor="let country of countryInfo; let i = index"
            value="{{i}}">{{country.CountryName}}</option>
          </select>
          <div class="invalid-feedback">
            <span *ngIf="billingForm.get('address.inputCountry')?.errors?.required">
              {{"billing-information.error-list.country-error" | translate}}
            </span>
            </div>
          </div>
          <div class="col-md-3 py-4">
            <select class="form-select"
                    formControlName="inputProvinceShipping"
                    (change)="onChangeProvince($event.target.value)"
                    [ngClass]="{'is-invalid':isValidInput('address.inputProvince')}">
                    <option disabled value="">{{"billing-information.list.province" | translate}}</option>
                    <option *ngFor="let province of provinceInfo; let j = index"
          value="{{j}}">{{province.StateName}}</option>
          </select>
          <div class="invalid-feedback">
            <span *ngIf="billingForm.get('address.inputProvince')?.errors?.required">
              {{"billing-information.error-list.province-error" | translate}}
            </span>
          </div>
        </div>
        <div class="col-md-3 py-4">
          <input type="text"
          [placeholder]="'billing-information.list.city' | translate"
                  class="form-control"
                  formControlName="inputCityShipping"
                  [ngClass]="{'is-invalid':isValidInput('address.inputCity')}">
          <div class="invalid-feedback">
            <span *ngIf="billingForm.get('address.inputCity')?.errors?.required">
              {{"billing-information.error-list.city-error" | translate}}
            </span>
            <span *ngIf="billingForm.get('address.inputCity')?.errors?.minlength">
              {{"billing-information.error-list.minimum" | translate}} {{billingForm.get('address.inputCity')?.errors?.minlength.requiredLength}} {{"billing-information.error-list.characters-required" | translate}}
            </span>
          </div>
        </div>
        <div class="col-md-3 py-4">
          <input type="text"
          [placeholder]="'billing-information.list.zip-code' | translate"
                  class="form-control"
                  formControlName="inputZIPshipping"
                  [ngClass]="{'is-invalid':isValidInput('address.inputZIP')}">
          <div class="invalid-feedback">
            <span *ngIf="billingForm.get('address.inputZIP')?.errors?.required">
              {{"billing-information.error-list.zip-error" | translate}}
              </span>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
  <div class="col-12 col-md-6 col-lg-8 m-3">
    <div class="col-6 mt-3">
        <input class="m-1" type="checkbox" [(ngModel)]="shipAddress" name="shipAddress" id="shipAddress">
        <label for="shipAddress">{{"billing-information.list.alternative-adress" | translate}}</label>
    </div>
  </div>
</div> 
